<head>
<script type="text/javascript">
function hirokify(){
	// 略す対象語を取得
	var targetTxt = document.getElementById("inText").value;
	
	// 結果となる略語
	var result = targetTxt;

	// 2文字以下の単語が指定された場合、エラー
  var len = targetTxt.length;
  if(len <= 2){
    document.getElementById("ryaku").innerHTML = targetTxt + "って、これ以上略せないやろ！";
    return;
  }

	// 削除する文字数を決定
	// 一文字以上、元の文字数以下
	var deleteAmount = Math.floor(Math.random() * (len-1))+1;
	console.log("削除する文字数"+deleteAmount);

	for(i = 0; i < deleteAmount; i++){
		var deleteIndex = Math.floor(Math.random() * result.length);
		console.log("削除する文字位置"+deleteIndex);
		console.log(result.substring(0,deleteIndex));
		console.log(result.substring(deleteIndex+2,result.length));
		result = result.substring(0,deleteIndex) + result.substring(deleteIndex+1,result.length);
	}

  document.getElementById("ryaku").innerHTML = targetTxt + "を略すと<br>「" + result + "」";
}

</script>
</head>
<body>
<h2>モバイルひろちむ</h2>

<p>略したい単語を入れてみ</p>

<form>
  <input type="text" id="inText" value="マサチューセッツ">
  <input type="button" onClick="hirokify()" value="略す">
  </form>

<p id="ryaku"></p>
</body>
